<!doctype html>
<html lang="en" data-theme="light">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Search results | Webinar Registration Website</title>
    <link href="https://cdn.jsdelivr.net/npm/bulma@1.0.4/css/bulma.min.css" rel="stylesheet">
    <link href="../../style.css" rel="stylesheet">
    <link href="./../style-branding.css" rel="stylesheet">
    <script type="text/javascript" src="../../modal.js"></script>
    <script type="text/javascript" src="../../svg-modal.js"></script>
    <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/svg-pan-zoom@3.6.2/dist/svg-pan-zoom.min.js"></script>
  </head>
  <body>
    <script type="text/javascript" src="../../header.js"></script>
    <nav class="navbar" role="navigation" aria-label="main navigation">
      <div class="navbar-brand has-site-branding"><a href="../" class="navbar-item"><span class="has-text-weight-semibold has-site-branding">Webinar Registration Website</span></a></div>
      <div class="navbar-menu has-site-branding">
        <div class="navbar-end">
          <div class="navbar-item"><input class="input is-small is-rounded" id="search" type="search" size="30" maxlength="50" placeholder="Search..." onkeyup="redirect(event, value, './')"></div>
          <div class="navbar-item has-dropdown is-hoverable"><a class="navbar-link has-site-branding">master</a>
            <div class="navbar-dropdown is-right"><a href="../../master/" class="navbar-item">master</a>
              <hr class="navbar-divider">
              <div class="navbar-item has-text-grey-light"><span>v</span><span>0.0.0</span></div>
            </div>
          </div>
        </div>
      </div>
    </nav>
    <div class="site-layout" id="site">
      <aside class="menu p-3">
        <p class="menu-label">General</p>
        <ul class="menu-list has-site-branding">
          <li><a href="../" class="">Home</a><a href="../software-systems/" class="">Software Systems</a></li>
        </ul>
        <p class="menu-label">Software systems</p>
        <ul class="menu-list has-site-branding">
          <li><a href="../webinar-registration-website/" class="">Webinar Registration Website</a></li>
        </ul>
      </aside>
      <div class="container is-fluid">
        <div class="content p-3">
          <h2>Search results</h2>
          <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/lunr@2.3.9/lunr.min.js"></script>
          <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/lunr-languages@1.14.0/min/lunr.stemmer.support.min.js"></script>
          <script type="text/javascript">const documents = [{"href":"../webinar-registration-website/","type":"Software System Info","title":"Webinar Registration Website | Webinar Registration Website","text":"Webinar Registration Website Overview Key Features Technology Stack Architecture Levels Quick Links Architecture Decisions Source Code The Webinar Registration Website is a web application that allows event attendees to register for webinars and marketing administrators to view registrations. This documentation accompanies the C4 architecture model and provides detailed explanations of each architectural level. | Layer | Technology |\n|-------|------------|\n| Frontend | Server-side rendered HTML (Jinja2) |\n| Backend | Python Flask 3.0+ with Gunicorn WSGI |\n| Database | PostgreSQL 16 (Azure Flexible Server) |\n| Web Server | nginx reverse proxy with SSL |\n| Infrastructure | Azure IaaS (Virtual Machines) |\n| IaC | Bicep (declarative) | This documentation follows the [C4 model](https://c4model.com/) for visualizing software architecture: | Level | View | Description |\n|-------|------|-------------|\n| **C1** | System Context | Actors and the system boundary |\n| **C2** | Containers | Technical building blocks (VMs, databases) |\n| **C3** | Components | Internal structure of the Flask application |\n| **Deployment** | Infrastructure | Azure IaaS deployment topology | Key architectural decisions are documented in the ADRs (Architecture Decision Records): | Component | Location |\n|-----------|----------|\n| Infrastructure (Bicep) | `infrastructure/` |\n| Flask Application | `application/` |\n| Deployment Scripts | `deploy/` |\n| Cloud-init configs | `infrastructure/cloud-init/` | webinarsystem"},{"href":"../webinar-registration-website/context/","type":"Context views","title":"Webinar Registration Website | Context views","text":"Webinar Registration Website Allows attendees to register for webinars and administrators to manage events"},{"href":"../webinar-registration-website/container/","type":"Container views","title":"Webinar Registration Website | Container views","text":"Bastion Host Secure SSH entry point for administrative access Ubuntu 24.04, Fail2ban Flask Application Handles registration logic, serves HTML Python/Gunicorn PostgreSQL Database Stores registration data persistently Managed PostgreSQL Reverse Proxy SSL offloading and request forwarding nginx, OpenSSL Terminal Command-line interface for administrative access Azure CLI, SSH Web Browser Renders HTML, JavaScript and CSS Chrome, Firefox, Safari"},{"href":"../webinar-registration-website/component/","type":"Component views","title":"Webinar Registration Website | Component views","text":"Data Models Database abstraction, ORM SQLAlchemy Route Handlers HTTP request handling, form processing Flask @app.route Template Engine HTML rendering with data binding Jinja2 WSGI Server Production HTTP server, process management Gunicorn HTTP Redirect Block Redirects HTTP to HTTPS nginx server block port 80 HTTPS Server Block SSL termination and request handling nginx server block port 443 SSL Certificate TLS/SSL certificate for encryption Self-signed (OpenSSL)"},{"href":"../webinar-registration-website/decisions/1/","type":"Software System Decision","title":"Webinar Registration Website | Use Pure IaaS Approach","text":"Use Pure IaaS Approach Status Context Decision Consequences Date: 2025-12-15 Accepted We need to choose an infrastructure approach for hosting the webinar registration website on Azure. Options considered: We will use a pure IaaS approach with self-managed Ubuntu VMs for compute. **Positive:** **Negative:** **Exception:**"},{"href":"../webinar-registration-website/decisions/2/","type":"Software System Decision","title":"Webinar Registration Website | Use Python Flask for Web Application","text":"Use Python Flask for Web Application Status Context Decision Consequences Date: 2025-12-15 Accepted We need to select a web framework for the registration application. Options considered: We will use Python Flask with: **Positive:** **Negative:**"},{"href":"../webinar-registration-website/decisions/3/","type":"Software System Decision","title":"Webinar Registration Website | Use Bastion Host for SSH Access","text":"Use Bastion Host for SSH Access Status Context Decision Consequences Date: 2025-12-15 Accepted We need secure administrative access to internal VMs without exposing them directly to the internet. Options considered: We will use a self-managed bastion host (Ubuntu VM) as an SSH jump server. **Positive:** **Negative:**"},{"href":"../webinar-registration-website/sections/system-context-(c1)/","type":"Software System Documentation","title":"Webinar Registration Website | System Context (C1)","text":"System Context (C1) System Context (C4 Model Level 1) System Context Diagram Context Description The System Users (Actors) Key Architectural Decisions Quality Attributes Scope Boundary In Scope Out of Scope (for this stage) Next Level This document provides the highest level view of the Webinar Registration Website system, showing how it fits into the broader environment of users and external systems. ![](embed:C1-Context) **Webinar Registration Website** is a web application that: | Actor | Description | Interaction |\n|-------|-------------|-------------|\n| **Event Attendee** | External users (potential customers, partners) who discover the webinar through marketing channels | Register for webinars via browser (HTTPS) |\n| **Marketing Administrator** | Internal staff responsible for managing webinar events | View registration lists via browser (HTTPS) |\n| **System Administrator** | IT operations staff responsible for infrastructure | Deploy, configure, and maintain via terminal (SSH) | From the PRD, the key non-functional requirements affecting architecture: | Attribute | Requirement | Impact |\n|-----------|-------------|--------|\n| **Availability** | >=99% uptime during business hours | Single VM design acceptable for MVP |\n| **Response Time** | Pages load < 3 seconds on broadband | Nginx caching, optimized queries |\n| **Capacity** | Support 100 concurrent users | Single app server sufficient |\n| **Security** | HTTPS only, OWASP guidelines | SSL termination at proxy, bastion host for SSH access, private subnets for app/data tiers, NSGs restricting traffic flow | See [Containers (C2)](03-containers.md) for the technical building blocks that make up this system."},{"href":"../webinar-registration-website/sections/containers-(c2)/","type":"Software System Documentation","title":"Webinar Registration Website | Containers (C2)","text":"Containers (C2) Containers (C4 Model Level 2) Container Diagram Container Inventory Compute Containers Supporting Infrastructure Network Flow User Traffic (Registration) Administrative Access Security Boundaries Container Details 1. Bastion Host (`vm-bastion`) 2. Reverse Proxy (`vm-proxy`) 3. Flask Application (`vm-app`) 4. PostgreSQL Database Technology Choices Deployment Pipeline Next Level This document zooms into the Webinar Registration Website system to show the high-level technical building blocks (containers) and how they interact. ![](embed:C2-Containers-Full) | Container | Technology | Purpose | Network Location |\n|-----------|------------|---------|------------------|\n| **Bastion Host** | Ubuntu 24.04 LTS | Secure SSH entry point; no direct access to app servers from internet | `snet-bastion` (10.0.1.0/24), Public IP |\n| **Reverse Proxy** | nginx on Ubuntu 24.04 | SSL termination, load balancing (future), security headers | `snet-web` (10.0.2.0/24), Public IP |\n| **Flask Application** | Python 3 + Gunicorn on Ubuntu 24.04 | Business logic, HTML rendering, REST endpoints | `snet-app` (10.0.3.0/24), Private only |\n| **PostgreSQL Database** | Azure PostgreSQL Flexible Server | Persistent data storage | `snet-data` (10.0.4.0/24), Private endpoint | | Component | Purpose |\n|-----------|---------|\n| **Virtual Network** | `vnet-flask-bicep-dev` (10.0.0.0/16) - Network isolation |\n| **NSGs** | Network Security Groups per subnet controlling traffic flow |\n| **ASGs** | Application Security Groups for role-based rules | **Purpose**: Secure administrative access without exposing internal VMs | Aspect | Detail |\n|--------|--------|\n| Image | Ubuntu 24.04 LTS |\n| Size | Standard_B1s (1 vCPU, 1GB RAM) |\n| Public IP | Yes (`pip-bastion`) |\n| Inbound Rules | SSH (22) from Internet |\n| Outbound Rules | SSH (22) to internal VMs |\n| Security | Fail2ban (3 strikes, 1 hour ban) | **Purpose**: SSL termination, public endpoint, future load balancing | Aspect | Detail |\n|--------|--------|\n| Image | Ubuntu 24.04 LTS |\n| Size | Standard_B1s |\n| Public IP | Yes (`pip-proxy`) |\n| Software | nginx |\n| SSL | Self-signed certificate (CN=flask-app) |\n| Inbound Rules | HTTPS (443), HTTP (80 -> redirect) |\n| Outbound Rules | HTTP (5001) to app subnet | **nginx Configuration**: **Purpose**: Core application logic and data access | Aspect | Detail |\n|--------|--------|\n| Image | Ubuntu 24.04 LTS |\n| Size | Standard_B1s |\n| Public IP | **No** (security: internal only) |\n| Runtime | Python 3 + Gunicorn WSGI server |\n| Binding | `0.0.0.0:5001` |\n| Service User | `flask-app` (system user, no login shell) |\n| Inbound Rules | HTTP (5001) from web subnet only | **Key Files on VM**: **Purpose**: Persistent storage for registration data | Aspect | Detail |\n|--------|--------|\n| Service | Azure Database for PostgreSQL Flexible Server |\n| SKU | Burstable B1ms (1 vCPU, 2GB) |\n| Version | PostgreSQL 16 |\n| Access | Private endpoint in `snet-data` |\n| Database | `flask` |\n| SSL | Required (`sslmode=require`) | | Decision | Choice | Rationale |\n|----------|--------|-----------|\n| Web Server | nginx | Industry standard, excellent reverse proxy, low resource usage |\n| WSGI Server | Gunicorn | Production-grade, simple configuration, works well with Flask |\n| Database | PostgreSQL | Robust, open source, excellent Python support (psycopg2) |\n| Process Manager | systemd | Standard on modern Ubuntu, automatic restarts, logging |\n| Infrastructure | Azure Bicep | Declarative IaC, native Azure support, good learning value | See [Components (C3)](04-components.md) for the internal structure of the Flask application."},{"href":"../webinar-registration-website/sections/components-(c3)/","type":"Software System Documentation","title":"Webinar Registration Website | Components (C3)","text":"Components (C3) Components (C4 Model Level 3) Flask Application Components Reverse Proxy Components Component Inventory Application Components Component Details 1. Route Handlers 2. Template Engine 3. Data Models 4. WSGI Server Data Flow Registration Flow (Happy Path) Request/Response Cycle Dependencies Python Packages (`application/requirements.txt`) External Dependencies Future Evolution Next Level This document zooms into the Flask Application container to show its internal structure and how components collaborate to fulfill the system's responsibilities. ![](embed:C3-Components) The nginx reverse proxy also has internal components worth understanding: ![](embed:C3-Components-Proxy) | Component | Technology | Responsibility | Source |\n|-----------|------------|----------------|--------|\n| **Route Handlers** | Flask routes | Handle HTTP requests, process forms, return responses | `app.py` |\n| **Template Engine** | Jinja2 | Render dynamic HTML pages | Inline in `app.py` |\n| **Data Models** | SQLAlchemy | Object-relational mapping, database schema | `app.py` (Entry class) |\n| **WSGI Server** | Gunicorn | Production HTTP server, worker processes | `wsgi.py` | The application exposes three HTTP endpoints: | Route | Method | Purpose | Response |\n|-------|--------|---------|----------|\n| `/` | GET | Display registration form + recent entries | HTML page |\n| `/` | POST | Process new registration | Redirect to GET `/` |\n| `/entries` | GET | List all entries as JSON | JSON array |\n| `/health` | GET | Health check for monitoring | `{\"status\": \"ok\"}` | **Code Structure** (`application/app.py`): Uses Jinja2 (Flask's default) with inline template definition: **Template Variables**: | Variable | Source | Purpose |\n|----------|--------|---------|\n| `entries` | Query result | List of recent Entry objects |\n| `count` | `Entry.query.count()` | Total number of registrations |\n| `db_type` | Environment check | Shows \"PostgreSQL\" or \"SQLite\" | **Template Features Used**: Single model representing a registration entry: **Database Operations**: | Operation | Code Pattern | SQL Equivalent |\n|-----------|--------------|----------------|\n| Create | `db.session.add(entry)` | INSERT INTO entries... |\n| Read all | `Entry.query.all()` | SELECT * FROM entries |\n| Read recent | `Entry.query.order_by(...).limit(10)` | SELECT ... ORDER BY ... LIMIT 10 |\n| Count | `Entry.query.count()` | SELECT COUNT(*) FROM entries | **Entry Point** (`application/wsgi.py`): **Gunicorn Configuration** (via systemd unit): | Setting | Value | Purpose |\n|---------|-------|---------|\n| `--bind` | `0.0.0.0:5001` | Listen on all interfaces, port 5001 |\n| Workers | 1 (default) | Single worker sufficient for small load |\n| Module | `wsgi:app` | Import `app` object from `wsgi.py` | | Package | Purpose |\n|---------|---------|\n| `Flask` | Web framework |\n| `Flask-SQLAlchemy` | ORM integration |\n| `gunicorn` | Production WSGI server |\n| `psycopg2-binary` | PostgreSQL driver | | Dependency | Source | Purpose |\n|------------|--------|---------|\n| `DATABASE_URL` | `/etc/flask-app/app.env` | PostgreSQL connection string |\n| PostgreSQL | Azure PaaS | Data persistence |\n| nginx | vm-proxy | Reverse proxy, SSL | For a production-ready application, this simple structure would evolve: | Current | Production Evolution |\n|---------|---------------------|\n| Inline templates | Separate `templates/` directory |\n| Single `app.py` | Blueprint-based modular structure |\n| Inline models | Separate `models.py` |\n| No validation | Form validation (WTForms) |\n| No auth | Flask-Login + session management |\n| Single model | Multiple models with relationships | See [Deployment](05-deployment.md) for how this system is deployed on Azure infrastructure."},{"href":"../webinar-registration-website/sections/deployment/","type":"Software System Documentation","title":"Webinar Registration Website | Deployment","text":"Deployment Azure IaaS Deployment Architecture Deployment Diagram Infrastructure Overview Network Topology Virtual Machines Managed Services Security Architecture Network Security Groups (NSGs) Application Security Groups (ASGs) Deployment Process Infrastructure Provisioning Cloud-init Configuration Application Deployment Cost Estimate Naming Conventions Infrastructure as Code Related Documentation This document shows how the Webinar Registration Website is deployed on Azure infrastructure using a pure IaaS approach. ![](embed:Deployment) | Subnet | CIDR | NSG | Purpose |\n|--------|------|-----|---------|\n| `snet-bastion` | 10.0.1.0/24 | `nsg-bastion` | SSH jump host (public access) |\n| `snet-web` | 10.0.2.0/24 | `nsg-web` | Reverse proxy (public access) |\n| `snet-app` | 10.0.3.0/24 | `nsg-app` | Application server (internal only) |\n| `snet-data` | 10.0.4.0/24 | `nsg-data` | PostgreSQL database (internal only) | | VM | Subnet | Public IP | Size | Purpose |\n|----|--------|-----------|------|---------|\n| `vm-bastion` | snet-bastion | Yes | Standard_B1s | SSH jump server |\n| `vm-proxy` | snet-web | Yes | Standard_B1s | nginx reverse proxy |\n| `vm-app` | snet-app | No | Standard_B1s | Flask application | | Service | SKU | Purpose |\n|---------|-----|---------|\n| PostgreSQL Flexible Server | Burstable B1ms | Database (the only PaaS component) | Each subnet has an NSG controlling inbound/outbound traffic: **nsg-bastion**: **nsg-web**: **nsg-app**: **nsg-data**: ASGs provide role-based security rules: | ASG | Members | Purpose |\n|-----|---------|---------|\n| `asg-bastion` | vm-bastion | Source for SSH to internal VMs |\n| `asg-proxy` | vm-proxy | Source for HTTP to app server |\n| `asg-app` | vm-app | Target for application traffic | Each VM is configured automatically via cloud-init: | VM | Cloud-init | Key Configuration |\n|----|------------|-------------------|\n| vm-bastion | `bastion.yaml` | fail2ban, SSH hardening |\n| vm-proxy | `proxy.yaml` | nginx, self-signed SSL cert |\n| vm-app | `app.yaml` | Python venv, systemd service, flask-app user | The Flask application is deployed via SSH through the bastion: | Resource | SKU | Monthly Cost |\n|----------|-----|--------------|\n| 3x VMs | Standard_B1s | ~$21 ($7 each) |\n| PostgreSQL | Burstable B1ms | ~$12 |\n| Public IPs | 2x Static | ~$8 |\n| Storage | 3x 30GB | ~$3 |\n| **Total** | | **~$44/month** | Following Azure Cloud Adoption Framework (CAF): | Resource Type | Pattern | Example |\n|---------------|---------|---------|\n| Resource Group | `rg-{project}-{env}` | `rg-flask-bicep-dev` |\n| Virtual Network | `vnet-{project}-{env}` | `vnet-flask-bicep-dev` |\n| Subnet | `snet-{tier}` | `snet-bastion` |\n| NSG | `nsg-{tier}` | `nsg-web` |\n| VM | `vm-{role}` | `vm-proxy` |\n| PostgreSQL | `psql-{project}-{env}` | `psql-flask-bicep-dev` | All infrastructure is defined in Bicep:"}];const idx = lunr(function () {
                        this.ref('href')
                        this.field('text')

                        documents.forEach(function (doc) {
                          this.add(doc)
                        }, this)
                      });
                    </script>
          <script type="text/javascript" src="../../search.js"></script>
          <div id="search-results"></div>
        </div>
      </div>
    </div>
    <script type="text/javascript" src="../../reformat-mermaid.js"></script>
    <script type="module">import mermaid from 'https://cdn.jsdelivr.net/npm/mermaid@11.9.0/dist/mermaid.esm.min.mjs';</script>
  </body>
</html>
